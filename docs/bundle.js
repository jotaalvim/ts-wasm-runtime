!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return c});
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r=`{{lit-${String(Math.random()).slice(2)}}}`,o=`\x3c!--${r}--\x3e`,s=new RegExp(`${r}|${o}`),a="$lit$";class i{constructor(e,t){this.parts=[],this.element=t;let n=-1,o=0;const i=[],l=t=>{const p=t.content,d=document.createTreeWalker(p,133,null,!1);let f=0;for(;d.nextNode();){n++;const t=d.currentNode;if(1===t.nodeType){if(t.hasAttributes()){const i=t.attributes;let l=0;for(let e=0;e<i.length;e++)i[e].value.indexOf(r)>=0&&l++;for(;l-- >0;){const r=e.strings[o],i=c.exec(r)[2],l=i.toLowerCase()+a,u=t.getAttribute(l).split(s);this.parts.push({type:"attribute",index:n,name:i,strings:u}),t.removeAttribute(l),o+=u.length-1}}"TEMPLATE"===t.tagName&&l(t)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(r)>=0){const r=t.parentNode,a=e.split(s),l=a.length-1;for(let e=0;e<l;e++)r.insertBefore(""===a[e]?u():document.createTextNode(a[e]),t),this.parts.push({type:"node",index:++n});""===a[l]?(r.insertBefore(u(),t),i.push(t)):t.data=a[l],o+=l}}else if(8===t.nodeType)if(t.data===r){const e=t.parentNode;null!==t.previousSibling&&n!==f||(n++,e.insertBefore(u(),t)),f=n,this.parts.push({type:"node",index:n}),null===t.nextSibling?t.data="":(i.push(t),n--),o++}else{let e=-1;for(;-1!==(e=t.data.indexOf(r,e+1));)this.parts.push({type:"node",index:-1})}}};l(t);for(const e of i)e.parentNode.removeChild(e)}}const l=e=>-1!==e.index,u=()=>document.createComment(""),c=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},function(e,t,n){"use strict";n.d(t,"h",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return h}),n.d(t,"d",function(){return _});var r=n(7),o=n(5),s=n(3),a=n(12),i=n(8),l=n(0);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const u=e=>null===e||!("object"==typeof e||"function"==typeof e);class c{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new p(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let r=0;r<t;r++){n+=e[r];const t=this.parts[r];if(void 0!==t){const e=t.value;if(null!=e&&(Array.isArray(e)||"string"!=typeof e&&e[Symbol.iterator]))for(const t of e)n+="string"==typeof t?t:String(t);else n+="string"==typeof e?e:String(e)}}return n+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class p{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===s.a||u(e)&&e===this.value||(this.value=e,Object(r.b)(e)||(this.committer.dirty=!0))}commit(){for(;Object(r.b)(this.value);){const e=this.value;this.value=s.a,e(this)}this.value!==s.a&&this.committer.commit()}}class d{constructor(e){this.value=void 0,this._pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(Object(l.c)()),this.endNode=e.appendChild(Object(l.c)())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e._insert(this.startNode=Object(l.c)()),e._insert(this.endNode=Object(l.c)())}insertAfterPart(e){e._insert(this.startNode=Object(l.c)()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this._pendingValue=e}commit(){for(;Object(r.b)(this._pendingValue);){const e=this._pendingValue;this._pendingValue=s.a,e(this)}const e=this._pendingValue;e!==s.a&&(u(e)?e!==this.value&&this._commitText(e):e instanceof i.b?this._commitTemplateResult(e):e instanceof Node?this._commitNode(e):Array.isArray(e)||e[Symbol.iterator]?this._commitIterable(e):e===s.b?(this.value=s.b,this.clear()):this._commitText(e))}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_commitNode(e){this.value!==e&&(this.clear(),this._insert(e),this.value=e)}_commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&3===t.nodeType?t.data=e:this._commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}_commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof a.a&&this.value.template===t)this.value.update(e.values);else{const n=new a.a(t,e.processor,this.options),r=n._clone();n.update(e.values),this._commitNode(r),this.value=n}}_commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const o of e)void 0===(n=t[r])&&(n=new d(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(o),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(e=this.startNode){Object(o.b)(this.startNode.parentNode,e.nextSibling,this.endNode)}}class f{constructor(e,t,n){if(this.value=void 0,this._pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this._pendingValue=e}commit(){for(;Object(r.b)(this._pendingValue);){const e=this._pendingValue;this._pendingValue=s.a,e(this)}if(this._pendingValue===s.a)return;const e=!!this._pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=e,this._pendingValue=s.a}}class m extends c{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new h(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class h extends p{}let v=!1;try{const e={get capture(){return v=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class _{constructor(e,t,n){this.value=void 0,this._pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this._boundHandleEvent=(e=>this.handleEvent(e))}setValue(e){this._pendingValue=e}commit(){for(;Object(r.b)(this._pendingValue);){const e=this._pendingValue;this._pendingValue=s.a,e(this)}if(this._pendingValue===s.a)return;const e=this._pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),o=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this._boundHandleEvent,this._options),o&&(this._options=b(e),this.element.addEventListener(this.eventName,this._boundHandleEvent,this._options)),this.value=e,this._pendingValue=s.a}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const b=e=>e&&(v?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.seq=function(...e){return(t,n)=>{const r=[];for(let o of e){const e=o(t,n);if(!e[0])return[!1,null,n,`seq@${n}: ${e[3]}`];r.push(e[1]),n=e[2]}return[!0,r,n]}},t.or=function(...e){return(t,n)=>{const r=[];for(let o of e){const e=o(t,n);if(e[0])return e;r.push(o[2])}return[!1,null,n,`or@${n}: expected ${r.join(" or ")}`]}},t.lazy=(e=>{let t;return(n,r)=>(void 0===t&&(t=e()),t(n,r))}),t.opt=(e=>(t,n)=>{const r=e(t,n);return r[0]?r:[!0,null,n,`opt@${n}: ${r[3]}`]}),t.many=(e=>(t,n)=>{const r=[];for(;;){const o=e(t,n);if(!o[0])break;r.push(o[1]),n=o[2]}return 0===r.length?[!1,null,n,`many@${n}: cannot parse`]:[!0,r,n]}),t.map=((e,t)=>(n,r)=>{const o=e(n,r);return o[0]?[o[0],t(o[1]),o[2]]:[!1,null,o[2],`map@${r}: ${o[3]}`]}),t.transform=((e,t)=>(n,r)=>{const o=e(n,r);return o[0]?t(o[1],0):[!1,null,r,`transform@${r}: ${o[2]}`]}),t.fail=((e,t)=>[!1,null,t,`fail@${t}`]),t.pass=((e,t)=>[!0,e[t],t+1]),t.seqMap=((e,t)=>(n,r)=>{const o=e(n,r);return o[0]?t(o[1])(n,o[2]):[!1,null,r,o[3]]}),t.vec=((e,t)=>(n,r)=>{const o=[];for(let s=0;s<t;s++){const t=e(n,r);if(!t[0])return[!1,null,r,`vec@${r}: ${t[3]}`];o.push(t[1]),r=t[2]}return[!0,o,r]}),t.terminate=(e=>(t,n)=>[!0,e,n])},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r={},o={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.keyword=(e=>(t,n)=>t[n]===e?[!0,e,n+1]:[!1,null,n,`keyword@${n}: ${t[n]} is not ${e}`]),t.regexp=(e=>(t,n)=>{const r=t[n];if(!(e=>"string"==typeof e)(r))return[!1,null,n,`regexp@${n}: ${t[n]} is not string`];e.lastIndex=0;const o=e.exec(r);return o?[!0,o[1],n+1]:[!1,null,n,`regexp@${n}: ${t[n]} does not match ${e.source}`]}),t.array=(e=>(t,n)=>{const r=t[n];if(!Array.isArray(r))return[!1,null,n,`array@${n}: ${t} is not array`];const o=e(r,0);return o[0]?[!0,o[1],n+1]:[!1,null,n,o[3]]}),t.isIntElement=(e=>e instanceof Object&&"int"in e),t.isHexElement=(e=>e instanceof Object&&"hex"in e),t.isFloatElement=(e=>e instanceof Object&&"float"in e),t.is=(e=>(t,n)=>{const r=t[n];return e(r)?[!0,r,n+1]:[!1,null,n]})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,o=(e,t,n=null,r=null)=>{let o=t;for(;o!==n;){const t=o.nextSibling;e.insertBefore(o,r),o=t}},s=(e,t,n=null)=>{let r=t;for(;r!==n;){const t=r.nextSibling;e.removeChild(r),r=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(17),s=n(4);t.int32=r.or(r.map(s.is(s.isIntElement),e=>({i32:e.int})),r.map(s.is(s.isHexElement),e=>({i32:e.hex,isHex:!0}))),t.int64=r.or(r.map(s.is(s.isIntElement),e=>({i64:e.int})),r.map(s.is(s.isHexElement),e=>({i64:e.hex,isHex:!0}))),t.float32=r.or(r.map(s.is(s.isFloatElement),e=>({f32:e.float})),r.map(s.is(s.isIntElement),e=>({f32:e.int}))),t.float64=r.or(r.map(s.is(s.isFloatElement),e=>({f64:e.float})),r.map(s.is(s.isIntElement),e=>({f64:e.int}))),t.identifier=s.regexp(/^(\$[a-zA-Z_][a-zA-Z0-9_.+-\\*\/\\^~=<>!?@#$%&|:'`]*)$/),t.name=s.regexp(/^([a-zA-Z]+)$/),t.string=s.regexp(/^\"(.+)\"/),t.num=r.map(s.is(s.isIntElement),e=>parseInt(e.int)),t.indices=r.or(t.num,t.identifier),t.valType=r.or(s.keyword(o.ValType.i32),s.keyword(o.ValType.i64),s.keyword(o.ValType.f32),s.keyword(o.ValType.f64)),t.blockType=r.map(r.seq(s.keyword("result"),t.valType),e=>e[1])},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r=new WeakMap,o=e=>(...t)=>{const n=e(...t);return r.set(n,!0),n},s=e=>"function"==typeof e&&r.has(e)},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return a});var r=n(5),o=n(0);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class s{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="";for(let n=0;n<e;n++){const e=this.strings[n],r=o.e.exec(e);t+=r?e.substr(0,r.index)+r[1]+r[2]+o.b+r[3]+o.f:e+o.g}return t+this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}class a extends s{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,n=t.firstChild;return t.removeChild(n),Object(r.c)(t,n.firstChild),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=(e=>[].concat(...e)),t.range=((e,t)=>Array.from({length:t-e},(t,n)=>n+e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);t.Int32=r.Int32;var o=n(21);t.Float32=o.Float32;var s=n(22);t.Int64=s.Int64;var a=n(23);t.Float64=a.Float64},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4),s=n(6),a=n(33),i=n(9),l=n(34),u=e=>r.map(o.keyword(e),t=>({opType:e})),c=(e,t)=>r.map(r.seq(o.keyword(e),t),t=>({opType:e,parameter:t[1]}));t.constInstructions=r.or(c("i32.const",s.int32),c("i64.const",s.int64),c("f32.const",s.float32),c("f64.const",s.float64)),t.plainInstructions=r.or(t.constInstructions,u("nop"),u("unreachable"),c("br",s.indices),c("br_if",s.indices),((e,t)=>r.map(r.seq(o.keyword(e),r.many(t)),t=>({opType:e,parameters:t[1]})))("br_table",s.indices),c("call",s.indices),u("call_indirect"),u("drop"),u("select"),u("return"),c("local.get",s.indices),c("local.set",s.indices),c("get_local",s.indices),c("set_local",s.indices),c("local.tee",s.indices),c("tee_local",s.indices),c("global.get",s.indices),c("global.set",s.indices),c("get_global",s.indices),c("set_global",s.indices),u("i32.add"),u("i64.add"),u("f32.add"),u("f64.add"),u("i32.sub"),u("i64.sub"),u("f32.sub"),u("f64.sub"),u("i32.mul"),u("i64.mul"),u("f32.mul"),u("f64.mul"),u("f32.div"),u("f64.div"),u("i32.div_s"),u("i64.div_s"),u("i32.div_u"),u("i64.div_u"),u("i32.rem_s"),u("i64.rem_s"),u("i32.rem_u"),u("i64.rem_u"),u("i32.and"),u("i64.and"),u("i32.or"),u("i64.or"),u("i32.xor"),u("i64.xor"),u("i32.shl"),u("i64.shl"),u("i32.shr_s"),u("i64.shr_s"),u("i32.shr_u"),u("i64.shr_u"),u("i32.rotl"),u("i64.rotl"),u("i32.rotr"),u("i64.rotr"),u("i32.eq"),u("i64.eq"),u("f32.eq"),u("f64.eq"),u("i32.ne"),u("i64.ne"),u("f32.ne"),u("f64.ne"),u("i32.lt_s"),u("i64.lt_s"),u("i32.lt_u"),u("i64.lt_u"),u("f32.lt"),u("f64.lt"),u("i32.le_s"),u("i64.le_s"),u("i32.le_u"),u("i64.le_u"),u("f32.le"),u("f64.le"),u("i32.gt_s"),u("i64.gt_s"),u("i32.gt_u"),u("i64.gt_u"),u("f32.gt"),u("f64.gt"),u("i32.ge_s"),u("i64.ge_s"),u("i32.ge_u"),u("i64.ge_u"),u("f32.ge"),u("f64.ge"),u("i32.clz"),u("i64.clz"),u("i32.ctz"),u("i64.ctz"),u("i32.popcnt"),u("i64.popcnt"),u("i32.eqz"),u("i64.eqz"),u("f32.abs"),u("f64.abs"),u("f32.neg"),u("f64.neg"),u("f32.copysign"),u("f64.copysign"),u("f32.ceil"),u("f64.ceil"),u("f32.floor"),u("f64.floor"),u("f32.trunc"),u("f64.trunc"),u("f32.nearest"),u("f64.nearest"),u("f32.sqrt"),u("f64.sqrt"),u("f32.min"),u("f64.min"),u("f32.max"),u("f64.max"),u("i32.wrap/i64"),u("i32.trunc_s/f32"),u("i32.trunc_s/f64"),u("i32.trunc_u/f32"),u("i32.trunc_u/f64"),u("i64.extend_s/i32"),u("i64.extend_u/i32"),u("i64.trunc_s/f32"),u("i64.trunc_s/f64"),u("i64.trunc_u/f32"),u("i64.trunc_u/f64"),u("i32.reinterpret/f32"),u("i64.reinterpret/f64"),u("f32.reinterpret/i32"),u("f64.reinterpret/i64"),u("f32.demote/f64"),u("f32.convert_s/i32"),u("f32.convert_s/i64"),u("f32.convert_u/i32"),u("f32.convert_u/i64"),u("f64.promote/f32"),u("f64.convert_s/i32"),u("f64.convert_s/i64"),u("f64.convert_u/i32"),u("f64.convert_u/i64"),u("i32.load"),u("i64.load"),u("f32.load"),u("f64.load"),u("i32.load8_s"),u("i32.load8_u"),u("i32.load16_s"),u("i32.load16_u"),u("i64.load8_s"),u("i64.load8_u"),u("i64.load16_s"),u("i64.load16_u"),u("f32.load8_s"),u("f32.load8_u"),u("f32.load16_s"),u("f32.load16_u"),u("f64.load8_s"),u("f64.load8_u"),u("f64.load16_s"),u("f64.load16_u"),u("i32.store"),u("i64.store"),u("f32.store"),u("f64.store"),u("i32.store8"),u("i32.store16"),u("i64.store8"),u("i64.store16"),u("i64.store32"));const p=r.map(o.array(r.seq(t.plainInstructions,r.opt(r.map(r.many(r.lazy(()=>t.operations)),e=>i.flatten(e))))),e=>[...e[1]?e[1]:[],e[0]]);t.operations=r.or(r.lazy(()=>a.blockInstructions),r.lazy(()=>l.ifParser),r.map(t.plainInstructions,e=>[e]),p)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(5),o=n(0);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class s{constructor(e,t,n){this._parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this._parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this._parts)void 0!==e&&e.commit()}_clone(){const e=r.a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=this.template.parts;let n=0,s=0;const a=e=>{const r=document.createTreeWalker(e,133,null,!1);let i=r.nextNode();for(;n<t.length&&null!==i;){const e=t[n];if(Object(o.d)(e))if(s===e.index){if("node"===e.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(i.previousSibling),this._parts.push(e)}else this._parts.push(...this.processor.handleAttributeExpressions(i,e.name,e.strings,this.options));n++}else s++,"TEMPLATE"===i.nodeName&&a(i.content),i=r.nextNode();else this._parts.push(void 0),n++}};return a(e),r.a&&(document.adoptNode(e),customElements.upgrade(e)),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10);t.monop=(e=>t=>{const{values:n}=t,r=n.pop();n.push(e(r))}),t.binop=(e=>t=>{const{values:n}=t,r=n.pop(),o=n.pop();n.push(e(o,r))}),t.boolBinop=(e=>t.binop((t,n)=>r.Int32.bool(e(t,n)))),t.boolMonop=(e=>t.monop(t=>r.Int32.bool(e(t))))},function(e,t,n){"use strict";n.r(t);var r=n(1);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class o{handleAttributeExpressions(e,t,n,o){const s=t[0];if("."===s){return new r.f(e,t.slice(1),n).parts}return"@"===s?[new r.d(e,t.slice(1),o.eventContext)]:"?"===s?[new r.c(e,t.slice(1),n)]:new r.a(e,t,n).parts}handleTextExpression(e){return new r.e(e)}}const s=new o;var a=n(8),i=n(7),l=n(5),u=n(3),c=n(0);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
function p(e){let t=d.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},d.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const r=e.strings.join(c.f);return void 0===(n=t.keyString.get(r))&&(n=new c.a(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}const d=new Map,f=new WeakMap,m=(e,t,n)=>{let o=f.get(t);void 0===o&&(Object(l.b)(t,t.firstChild),f.set(t,o=new r.e(Object.assign({templateFactory:p},n))),o.appendInto(t)),o.setValue(e),o.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var h=n(12);n.d(t,"html",function(){return v}),n.d(t,"svg",function(){return _}),n.d(t,"DefaultTemplateProcessor",function(){return o}),n.d(t,"defaultTemplateProcessor",function(){return s}),n.d(t,"directive",function(){return i.a}),n.d(t,"isDirective",function(){return i.b}),n.d(t,"removeNodes",function(){return l.b}),n.d(t,"reparentNodes",function(){return l.c}),n.d(t,"noChange",function(){return u.a}),n.d(t,"nothing",function(){return u.b}),n.d(t,"AttributeCommitter",function(){return r.a}),n.d(t,"AttributePart",function(){return r.b}),n.d(t,"BooleanAttributePart",function(){return r.c}),n.d(t,"EventPart",function(){return r.d}),n.d(t,"isPrimitive",function(){return r.h}),n.d(t,"NodePart",function(){return r.e}),n.d(t,"PropertyCommitter",function(){return r.f}),n.d(t,"PropertyPart",function(){return r.g}),n.d(t,"parts",function(){return f}),n.d(t,"render",function(){return m}),n.d(t,"templateCaches",function(){return d}),n.d(t,"templateFactory",function(){return p}),n.d(t,"TemplateInstance",function(){return h.a}),n.d(t,"SVGTemplateResult",function(){return a.a}),n.d(t,"TemplateResult",function(){return a.b}),n.d(t,"createMarker",function(){return c.c}),n.d(t,"isTemplatePartActive",function(){return c.d}),n.d(t,"Template",function(){return c.a}),
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");const v=(e,...t)=>new a.b(e,t,"html",s),_=(e,...t)=>new a.a(e,t,"svg",s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(28),s=r.or(r.map(o.regexp(/^-?0x[0-9a-fA-F][0-9a-fA-F_]*/),e=>({hex:e})),r.map(o.regexp(/^-?[0-9]+\.[0-9]*/),e=>({float:e})),r.map(o.regexp(/^-?[0-9]+/),e=>({int:e}))),a=o.regexp(/^[a-zA-Z\$][0-9a-zA-Z\._]*/),i=o.regexp(/^(".+")/),l=r.or(s,a,i),u=o.regexp(/^;;.*\n/),c=r.many(r.or(o.regexp(/^\s+/),u)),p=r.lazy(()=>r.map(r.seq(r.opt(c),r.map(r.seq(o.token("("),r.opt(c),t.expression,r.opt(r.many(r.map(r.seq(c,t.expression),e=>e[1]))),r.opt(c),o.token(")")),e=>null!==e[3]?[e[2],...e[3]]:[e[2]])),e=>e[1]));t.expression=r.or(l,p),t.parser=p,t.multiParser=r.many(r.map(r.seq(t.parser,r.opt(c)),e=>e[0]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(30),s=n(4),a=n(35),i=n(36),l=n(37),u=n(38),c=n(39),p=n(40),d=e=>"export"===e.nodeType,f=e=>"func"===e.nodeType,m=e=>"global"===e.nodeType,h=e=>"memory"===e.nodeType,v=e=>"table"===e.nodeType,_=e=>"type"===e.nodeType,b=e=>"elem"===e.nodeType;t.moduleParser=r.map(r.seq(s.keyword("module"),r.many(r.or(s.array(a.moduleExport),s.array(o.func),s.array(i.moduleGlobal),s.array(l.moduleMemory),s.array(u.moduleTable),s.array(c.moduleType),s.array(p.moduleElem)))),e=>({nodeType:"module",functions:e[1].filter(f),exports:e[1].filter(d),globals:e[1].filter(m),memories:e[1].filter(h),tables:e[1].filter(v),types:e[1].filter(_),elems:e[1].filter(b)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(31));const r=n(32);t.Op=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44),o=n(45),s=n(46),a=n(47),i=n(48),l=n(49),u=n(50),c=n(51),p=n(24),d=n(25),f=[o.memoryInstructionSet,s.variableInstructionSet,l.i32InstructionSet,u.i64InstructionSet,c.f32InstructionSet,a.f64InstructionSet];t.createWASMVM=(e=>r.virtualMachine((e=>t=>{for(const n of e){const e=n(t);if(null!==e)return e}throw new Error(`There is no instruction for ${JSON.stringify(t)}`)})([...f,e])));t.WASMVirtualMachine=class{constructor(e){this.table=e.table,this.functions=e.functions}callFunction(e,...t){const n=this.functions.findIndex(t=>t.export===e),r=this.functions[n],o={functions:this.functions,table:this.table,values:new d.Stack,memory:[],local:[],global:[],programCounter:0,programTerminated:!1};return t.map(p.convertNumber).reverse().forEach(o.values.push),i.callFunc(o,n),r.results.map(e=>o.values.pop().toObject())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=e=>e>>>0,s=e=>e>>0;class a{constructor(e){this.toString=(e=>this.value.toString(e)),this.toNumber=(()=>this.value),this.toObject=(()=>({i32:this.toString(10)})),this.value=s(e)}}a.obj=(e=>new a(parseInt(e.i32,e.isHex?16:10))),a.hex=(e=>new a(parseInt(e,16))),a.bool=(e=>e?a.one:a.zero),a.one=new a(1),a.zero=new a(0),a.not=(e=>new a(~e.value)),a.neg=(e=>new a(-e.value)),a.and=((e,t)=>new a(e.value&t.value)),a.or=((e,t)=>new a(e.value|t.value)),a.xor=((e,t)=>new a(e.value^t.value)),a.shiftLeft=((e,t=a.one)=>new a(e.value<<t.value)),a.shiftRight_s=((e,t=a.one)=>new a(e.value>>t.value)),a.shiftRight_u=((e,t=a.one)=>new a(e.value>>>t.value)),a.isZero=(e=>0===e.value),a.isNegative=(e=>e.value>>31==1),a.isOdd=(e=>1==(1&e.value)),a.equal=((e,t)=>(e.value&t.value)===e.value),a.notEqual=((e,t)=>!a.equal(e,t)),a.add=((e,t)=>{for(;!a.isZero(t);){const n=a.shiftLeft(a.and(e,t),a.one);e=a.xor(e,t),t=n}return e}),a.sub=((e,t)=>a.add(e,a.neg(t))),a.mul=((e,t)=>{let n=!1;a.isNegative(e)&&!a.isNegative(t)?(e=a.neg(e),n=!0):a.isNegative(t)&&!a.isNegative(e)?(t=a.neg(t),n=!0):a.isNegative(t)&&a.isNegative(e)&&(e=a.neg(e),t=a.neg(t));let r=a.zero;for(;!a.isZero(t);)a.isOdd(t)&&(r=a.add(r,e)),e=a.shiftLeft(e),t=a.shiftRight_u(t);return n?a.neg(r):r}),a.div_s=((e,t)=>new a(e.value/t.value)),a.div_u=((e,t)=>new a(o(e.value)/o(t.value))),a.rem_s=((e,t)=>new a(e.value%t.value)),a.rem_u=((e,t)=>new a(o(e.value)%o(t.value))),a.greaterThan_s=((e,t)=>e.value>t.value),a.greaterThan_u=((e,t)=>o(e.value)>o(t.value)),a.greaterThanOrEqual_s=((e,t)=>e.value>=t.value),a.greaterThanOrEqual_u=((e,t)=>o(e.value)>=o(t.value)),a.lessThan_s=((e,t)=>e.value<t.value),a.lessThan_u=((e,t)=>o(e.value)<o(t.value)),a.lessThanOrEqual_s=((e,t)=>e.value<=t.value),a.lessThanOrEqual_u=((e,t)=>o(e.value)<=o(t.value)),a.ctz=(e=>new a(r.countTrailingZeros(e.value.toString(2),32))),a.clz=(e=>new a(r.countLeadingZeros(e.value.toString(2),32))),a.popcnt=(e=>new a(r.popCount(e.value.toString(2)))),t.Int32=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);t.zeroPad=((e,t)=>r.range(0,t-e.length).map(e=>"0").join("")+e),t.countLeadingZeros=((e,n)=>{const r=t.zeroPad(e,n).indexOf("1");return r<0?n:r}),t.countTrailingZeros=((e,n)=>{const r=t.zeroPad(e,n).lastIndexOf("1");return r<0?n:n-(r+1)}),t.popCount=(e=>e.split("").filter(e=>"1"===e).length)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.toString=(e=>this.value.toString(e)),this.toNumber=(()=>this.value),this.toObject=(()=>({f32:this.value.toString(10)})),this.value=e}}r.obj=(e=>new r(parseFloat(e.f32))),r.add=((e,t)=>new r(e.value+t.value)),r.sub=((e,t)=>new r(e.value-t.value)),r.mul=((e,t)=>new r(e.value*t.value)),r.div=((e,t)=>new r(e.value/t.value)),r.rem=((e,t)=>new r(e.value%t.value)),r.equal=((e,t)=>e.value===t.value),r.notEqual=((e,t)=>e.value!==t.value),r.lessThan=((e,t)=>e.value<t.value),r.lessThanOrEqual=((e,t)=>e.value<=t.value),r.greaterThan=((e,t)=>e.value>t.value),r.greaterThanOrEqual=((e,t)=>e.value>=t.value),r.min=((e,t)=>new r(Math.min(e.value,t.value))),r.max=((e,t)=>new r(Math.max(e.value,t.value))),r.abs=(e=>new r(Math.abs(e.value))),r.neg=(e=>new r(-e.value)),r.ceil=(e=>new r(Math.ceil(e.value))),r.floor=(e=>new r(Math.floor(e.value))),r.sqrt=(e=>new r(Math.sqrt(e.value))),r.trunc=(e=>new r(Math.trunc(e.value))),r.nearest=(e=>new r(2*Math.round(e.value/2))),t.Float32=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=e=>BigInt.asUintN(64,e),s=e=>BigInt.asIntN(64,e);class a{constructor(e){this.toString=(e=>this.value.toString(e)),this.toNumber=(()=>Number(this.value)),this.toObject=(()=>({i64:this.toString(10)})),this.value=s(e)}}a.obj=(e=>new a(BigInt(e.i64))),a.hex=(e=>new a(BigInt(e))),a.bool=(e=>e?a.one:a.zero),a.one=new a(BigInt(1)),a.zero=new a(BigInt(0)),a.not=(e=>new a(~e.value)),a.neg=(e=>new a(-e.value)),a.and=((e,t)=>new a(e.value&t.value)),a.or=((e,t)=>new a(e.value|t.value)),a.xor=((e,t)=>new a(e.value^t.value)),a.shiftLeft=((e,t=a.one)=>new a(e.value<<t.value)),a.shiftRight_s=((e,t=a.one)=>new a(e.value>>t.value)),a.shiftRight_u=((e,t=a.one)=>new a(o(e.value)>>o(t.value))),a.isZero=(e=>e.value===a.zero.value),a.isNegative=(e=>e.value<a.zero.value),a.isOdd=(e=>(e.value&a.one.value)===a.one.value),a.equal=((e,t)=>(e.value&t.value)===e.value),a.notEqual=((e,t)=>!a.equal(e,t)),a.add=((e,t)=>new a(e.value+t.value)),a.sub=((e,t)=>new a(e.value-t.value)),a.mul=((e,t)=>new a(e.value*t.value)),a.div_s=((e,t)=>new a(e.value/t.value)),a.div_u=((e,t)=>new a(o(e.value)/o(t.value))),a.rem_s=((e,t)=>new a(e.value%t.value)),a.rem_u=((e,t)=>new a(o(e.value)%o(t.value))),a.greaterThan_s=((e,t)=>e.value>t.value),a.greaterThan_u=((e,t)=>o(e.value)>o(t.value)),a.greaterThanOrEqual_s=((e,t)=>e.value>=t.value),a.greaterThanOrEqual_u=((e,t)=>o(e.value)>=o(t.value)),a.lessThan_s=((e,t)=>e.value<t.value),a.lessThan_u=((e,t)=>o(e.value)<o(t.value)),a.lessThanOrEqual_s=((e,t)=>e.value<=t.value),a.lessThanOrEqual_u=((e,t)=>o(e.value)<=o(t.value)),a.ctz=(e=>new a(BigInt(r.countTrailingZeros(e.value.toString(2),64)))),a.clz=(e=>new a(BigInt(r.countLeadingZeros(e.value.toString(2),64)))),a.popcnt=(e=>new a(BigInt(r.popCount(e.value.toString(2))))),t.Int64=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.toString=(e=>this.value.toString(e)),this.toNumber=(()=>this.value),this.toObject=(()=>({f64:this.value.toString(10)})),this.value=e}}r.obj=(e=>new r(parseFloat(e.f64))),r.add=((e,t)=>new r(e.value+t.value)),r.sub=((e,t)=>new r(e.value-t.value)),r.mul=((e,t)=>new r(e.value*t.value)),r.div=((e,t)=>new r(e.value/t.value)),r.rem=((e,t)=>new r(e.value%t.value)),r.equal=((e,t)=>e.value===t.value),r.notEqual=((e,t)=>e.value!==t.value),r.lessThan=((e,t)=>e.value<t.value),r.lessThanOrEqual=((e,t)=>e.value<=t.value),r.greaterThan=((e,t)=>e.value>t.value),r.greaterThanOrEqual=((e,t)=>e.value>=t.value),r.min=((e,t)=>new r(Math.min(e.value,t.value))),r.max=((e,t)=>new r(Math.max(e.value,t.value))),r.abs=(e=>new r(Math.abs(e.value))),r.neg=(e=>new r(-e.value)),r.ceil=(e=>new r(Math.ceil(e.value))),r.floor=(e=>new r(Math.floor(e.value))),r.sqrt=(e=>new r(Math.sqrt(e.value))),r.trunc=(e=>new r(Math.trunc(e.value))),r.nearest=(e=>new r(2*Math.round(e.value/2))),t.Float64=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19),o=n(22),s=n(23),a=n(21),i=n(17);t.convertNumber=(e=>{if("i32"in e)return r.Int32.obj(e);if("i64"in e)return o.Int64.obj(e);if("f32"in e)return a.Float32.obj(e);if("f64"in e)return s.Float64.obj(e);throw new Error("not supported number type")}),t.numberValue=((e,t)=>{switch(e){case i.ValType.i32:case i.ValType.i64:case i.ValType.f32:case i.ValType.f64:return{[e]:t}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Stack=class{constructor(){this.arr=[],this.push=(e=>{this.arr.push(e)}),this.pop=(()=>{if(0===this.arr.length)throw new Error("Stack is empty");return this.arr.pop()}),this.peek=(()=>{if(0===this.arr.length)throw new Error("Stack is empty");return this.arr[this.arr.length-1]})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),o=n(27),s=n(15),a=n(29),i=n(43),l=n(55);n(56);const u=n(57);let c;const p=e=>d(o.unsafeHTML(l(e,{keyColor:"#c074fb",stringColor:"#e3c330",nullColor:"#929292",numberColor:"white",trueColor:"white",falseColor:"white"}))),d=e=>r.html`
  <pre class="Code"><code>${e}</code></pre>
`,f=e=>r.html`
  <pre class="Code Error"><code>${e}</code></pre>
`,m=()=>r.render((()=>{const{sParserInput:e,consoleInput:t,consoleOutput:n}=c(),o=s.parser(e,0),l=o[0]?a.moduleParser(o[1],0):null;return r.html`
    <div class="App">
      <h1>Playground</h1>

      <div class="sections">
        <section>
          <h2>Input Text</h2>
          <textarea @input=${e=>{c({sParserInput:e.target.value})}} .value=${e}></textarea>
        </section>

        <section>
          <h2>S-Expression Parser</h2>
          ${o[0]?p(o[1]):f(o[3])}
        </section>

        <section>
          <h2>WebAssembly Text Format Parser</h2>
          ${l&&(l[0]?p(l[1]):f(l[3]))}
        </section>

        <section>
          <h2>Console</h2>
          <div class="console-content">
            <div class="input-wrapper">
              <span class="mark">&#10095;</span>
              <input
                type="text" 
                .value=${t} 
                @input=${e=>{c({consoleInput:e.target.value})}}
                @keypress=${e=>{if("Enter"===e.key){const e=l[1];if(null===e)return;const{consoleInput:t,consoleOutput:n}=c(),r=new i.WASMVirtualMachine(i.compile(e)),o=u.parseConsoleInput(t,0);if(!o[0]){const e=`> ${t}\ninvalid command: ${o[3]}`;return void c({consoleInput:"",consoleOutput:[...n,e]})}const s=o[1],a=`> ${t}\n${r.callFunction(s.name,...s.arguments.map(e=>({i32:e}))).map(e=>JSON.stringify(e)).join(", ")}`;c({consoleInput:"",consoleOutput:[...n,a]})}}}
              />
            </div>
            <div class="section functions">
              <p class="title">functions</p>
              <ul>
              ${l&&l[0]?l[1].functions.filter(e=>e.export).map(e=>r.html`
                            <li>
                              ${e.export}(${e.parameters.map(e=>e.type).join(", ")})
                            </li>
                          `):null}
              </ul>
            </div>
            <div class="section output">
              <p class="title">output</p>
              ${d(n.join("\n"))}
            </div>
          </div
        </section>
      </div>
    </div>
  `})(),document.body);c=(e=>{let t=e;return(e=null)=>(e&&(t={...t,...e},m()),t)})({sParserInput:'(module \n  (func (export "add") (param i32) (param i32) (result i32)\n    get_local 0 \n    get_local 1\n    i32.add\n  )\n  (func $fib (export "fib") (param $p0 i32) (result i32) (local $l0 i32)\n    i32.const 1\n    set_local $l0\n    block $B0\n      get_local $p0\n      i32.const 2\n      i32.lt_u\n      br_if $B0\n      i32.const 1\n      set_local $l0\n      loop $L1\n        get_local $p0\n        i32.const -1\n        i32.add\n        call $fib\n        get_local $l0\n        i32.add\n        set_local $l0\n        get_local $p0\n        i32.const -2\n        i32.add\n        tee_local $p0\n        i32.const 1\n        i32.gt_u\n        br_if $L1\n      end\n    end\n    get_local $l0\n  )\n)',consoleInput:"",consoleOutput:[]}),m()},function(e,t,n){"use strict";n.r(t),n.d(t,"unsafeHTML",function(){return a});var r=n(1),o=n(14);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const s=new WeakMap,a=Object(o.directive)(e=>t=>{if(!(t instanceof o.NodePart))throw new Error("unsafeHTML can only be used in text bindings");const n=s.get(t);if(void 0!==n&&Object(r.h)(e)&&e===n.value&&t.value===n.fragment)return;const a=document.createElement("template");a.innerHTML=e;const i=document.importNode(a.content,!0);t.setValue(i),s.set(t,{value:e,fragment:i})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.token=(e=>(t,n)=>t.substr(n,e.length)===e?[!0,e,n+e.length]:[!1,null,n,`token@${n}: ${t.substr(n,e.length)} is not ${e}`]),t.regexp=(e=>(t,n)=>{e.lastIndex=0;const r=e.exec(t.slice(n));return r?[!0,r[0],n+r[0].length]:[!1,null,n,`regexp@${n}: ${t.slice(n)} does not match ${e.source}`]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(15),s=n(16);var a=n(16);t.moduleParser=a.moduleParser,t.watParser=r.transform(o.parser,s.moduleParser);var i=n(41);t.wastParser=i.wastParser},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4),s=n(6),a=n(11),i=n(9);t.param=r.map(r.seq(o.keyword("param"),r.opt(s.identifier),r.many(s.valType)),e=>e[2].map(t=>({identifier:e[1],type:t}))),t.local=r.map(r.seq(o.keyword("local"),r.opt(s.identifier),r.many(s.valType)),e=>e[2].map(t=>({identifier:e[1],type:t}))),t.funcBody=r.map(r.many(a.operations),e=>i.flatten(e)),t.func=r.map(r.seq(o.keyword("func"),r.opt(s.identifier),r.opt(r.map(o.array(r.seq(o.keyword("export"),s.string)),e=>e[1])),r.opt(r.many(o.array(t.param))),r.opt(o.array(s.blockType)),r.opt(r.many(o.array(t.local))),r.opt(t.funcBody)),e=>({nodeType:"func",identifier:e[1],export:e[2],parameters:i.flatten(e[3]||[]),results:e[4]?[e[4]]:[],locals:i.flatten(e[5]||[]),body:e[6]||[]}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.i32="i32",e.i64="i64",e.f32="f32",e.f64="f64"}(t.ValType||(t.ValType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(6),s=n(4),a=n(11),i=n(9),l=r.lazy(()=>a.operations),u=e=>r.map(r.seq(s.keyword(e),r.opt(o.identifier),r.opt(s.array(o.blockType)),r.opt(r.many(l))),t=>[{opType:e,identifier:t[1],results:t[2]?[t[2]]:[],body:i.flatten(t[3]||[])}]),c=e=>r.or((e=>r.map(r.seq(u(e),s.keyword("end")),e=>e[0]))(e),(e=>s.array(u(e)))(e));t.block=c("block"),t.loop=c("loop"),t.ifend=r.seq(s.keyword("if"),r.many(l),s.keyword("end")),t.ifelse=r.seq(s.keyword("if"),r.many(l),s.keyword("else"),r.many(l),s.keyword("end")),t.blockInstructions=r.or(t.block,t.loop,t.ifend,t.ifelse)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4),s=n(11),a=n(6),i=n(9),l=r.lazy(()=>s.operations),u=r.map(r.seq(o.keyword("if"),r.opt(a.identifier),r.opt(o.array(a.blockType)),r.opt(r.many(l)),o.keyword("else"),r.opt(r.many(l)),o.keyword("end")),e=>[{opType:"if",identifier:e[1],results:e[2]?[e[2]]:[],then:i.flatten(e[3]||[]),else:i.flatten(e[5]||[])}]),c=r.map(o.array(r.seq(o.keyword("if"),r.opt(a.identifier),r.opt(o.array(a.blockType)),r.opt(l),o.array(r.seq(o.keyword("then"),r.opt(r.many(l)))),o.array(r.seq(o.keyword("else"),r.opt(r.many(l)))))),e=>[...e[3]||[],{opType:"if",identifier:e[1],results:e[2]?[e[2]]:[],then:i.flatten(e[4][1]||[]),else:i.flatten(e[5][1]||[])}]),p=r.map(r.seq(o.keyword("if"),r.opt(a.identifier),r.opt(r.many(l)),o.keyword("end")),e=>[{opType:"if",results:[],identifier:e[1],then:i.flatten(e[2]||[]),else:[]}]),d=r.map(o.array(r.seq(o.keyword("if"),r.opt(a.identifier),r.opt(l),o.array(r.seq(o.keyword("then"),r.opt(r.many(l)))))),e=>[...e[2]||[],{opType:"if",results:[],identifier:e[1],then:i.flatten(e[3][1]||[]),else:[]}]);t.ifParser=r.or(u,c,p,d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(6),s=n(4);t.moduleExport=r.map(r.seq(s.keyword("export"),o.string,r.or(s.array(r.seq(s.keyword("func"),o.identifier)),s.array(r.seq(s.keyword("memory"),o.identifier)))),e=>({nodeType:"export",exportType:e[2][0],identifier:e[2][1]}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(6),s=n(4),a=n(11);t.moduleGlobal=r.map(r.seq(s.keyword("global"),r.opt(o.identifier),r.opt(r.map(s.array(r.seq(s.keyword("export"),o.string)),e=>e[1])),r.or(r.map(o.valType,e=>({mutable:!1,type:e})),r.map(s.array(r.seq(s.keyword("mut"),o.valType)),e=>({mutable:!0,type:e[1]}))),s.array(a.constInstructions)),e=>({nodeType:"global",identifier:e[1],export:e[2],type:e[3].type,mutable:e[3].mutable,initialValue:e[4].parameter}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(6),s=n(4);t.moduleMemory=r.map(r.seq(s.keyword("memory"),r.opt(o.identifier),r.opt(r.map(s.array(r.seq(s.keyword("export"),o.string)),e=>e[1])),o.num),e=>({nodeType:"memory",identifier:e[1],export:e[2]}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(6),s=n(4);t.moduleTable=r.map(r.seq(s.keyword("table"),r.opt(o.identifier),r.opt(r.map(s.array(r.seq(s.keyword("export"),o.string)),e=>e[1])),o.num,o.num,o.name),e=>({nodeType:"table",identifier:e[1],export:e[2]}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(6),s=n(4),a=r.seq(s.keyword("func"),r.opt(o.blockType));t.moduleType=r.map(r.seq(s.keyword("type"),r.opt(o.identifier),s.array(a)),e=>({nodeType:"type",identifier:e[1]}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(6),s=n(4),a=n(11);t.moduleElem=r.map(r.seq(s.keyword("elem"),s.array(a.constInstructions),r.many(o.identifier)),e=>({nodeType:"elem",offset:e[1].parameter,funcIds:e[2]}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(15),s=n(16),a=n(42),i=n(4);t.combinedParser=r.many(r.or(i.array(s.moduleParser),i.array(a.assertionParser))),t.wastParser=r.transform(o.multiParser,t.combinedParser)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(4),s=n(6),a=n(11),i=n(9);t.assertionParser=r.map(r.seq(o.keyword("assert_return"),o.array(r.seq(o.keyword("invoke"),s.string,r.opt(r.many(o.array(a.operations))))),r.opt(o.array(a.operations))),e=>({nodeType:"assert_return",invoke:e[1][1],args:i.flatten(e[1][2]||[]),expected:e[2]||[]}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(18));var r=n(52);t.compile=r.compile},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.virtualMachine=((e,t=!1)=>(n,r)=>{const o=e=>{t&&console.log(e)};for(;r.programCounter<n.length&&!r.programTerminated;){const t=n[r.programCounter++],s=e(t);o(`[${r.programCounter}] run ${JSON.stringify(t)}`);try{s(r)}catch(e){console.error(`Exception thrown at ${r.programCounter}: ${e.message} ${JSON.stringify(t)}`);break}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoryInstructionSet=(e=>{switch(e.opType){case"i32.load":case"i64.load":case"f32.load":case"f64.load":case"i32.load8_s":case"i32.load8_u":case"i32.load16_s":case"i32.load16_u":case"i64.load8_s":case"i64.load8_u":case"i64.load16_s":case"i64.load16_u":case"f32.load8_s":case"f32.load8_u":case"f32.load16_s":case"f32.load16_u":case"f64.load8_s":case"f64.load8_u":case"f64.load16_s":case"f64.load16_u":throw new Error(`not implemented ${e.opType}`);case"i32.store":case"i64.store":case"f32.store":case"f64.store":case"i32.store8":case"i32.store16":case"i64.store8":case"i64.store16":case"i64.store32":throw new Error(`not implemented ${e.opType}`)}return null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variableInstructionSet=(e=>{switch(e.opType){case"drop":return({values:e})=>{e.pop()};case"get_local":case"local.get":return({values:t,local:n})=>{const r=e.parameter;t.push(n[r])};case"set_local":case"local.set":return({values:t,local:n})=>{n[e.parameter]=t.pop()};case"tee_local":case"local.tee":return({values:t,local:n})=>{n[e.parameter]=t.peek()};case"get_global":case"global.get":return({values:t,global:n})=>{const r=e.parameter;t.push(n[r])};case"set_global":case"global.set":return({values:t,global:n})=>{n[e.parameter]=t.pop()}}return null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),o=n(10);t.f64InstructionSet=(e=>{switch(e.opType){case"f64.const":return({values:t})=>t.push(o.Float64.obj(e.parameter));case"f64.add":return r.binop(o.Float64.add);case"f64.sub":return r.binop(o.Float64.sub);case"f64.mul":return r.binop(o.Float64.mul);case"f64.div":return r.binop(o.Float64.div);case"f64.eq":return r.boolBinop(o.Float64.equal);case"f64.ne":return r.boolBinop(o.Float64.notEqual);case"f64.lt":return r.boolBinop(o.Float64.lessThan);case"f64.le":return r.boolBinop(o.Float64.lessThanOrEqual);case"f64.gt":return r.boolBinop(o.Float64.greaterThan);case"f64.ge":return r.boolBinop(o.Float64.greaterThanOrEqual);case"f64.abs":return r.monop(o.Float64.abs);case"f64.neg":return r.monop(o.Float64.neg);case"f64.copysign":throw new Error(`not implemented ${e.opType}`);case"f64.ceil":return r.monop(o.Float64.ceil);case"f64.floor":return r.monop(o.Float64.floor);case"f64.trunc":return r.monop(o.Float64.trunc);case"f64.nearest":return r.monop(o.Float64.nearest);case"f64.sqrt":return r.monop(o.Float64.sqrt);case"f64.min":return r.binop(o.Float64.min);case"f64.max":return r.binop(o.Float64.max);case"f64.promote/f32":case"f64.convert_i32_s":case"f64.convert_i64_s":case"f64.convert_i32_u":case"f64.convert_i64_u":case"f64.reinterpret/i64":throw new Error(`not implemented ${e.opType}`)}return null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),o=n(10),s=n(24),a=n(18),i=n(25);var l;t.callFunc=((e,t)=>{const{functions:n,values:o}=e,a=n[t],i={...e,local:[...r.range(0,a.parameters.length).map(e=>o.pop()),...a.locals.map(e=>s.numberValue(e.type,"0")).map(e=>s.convertNumber(e))]},c={return:t=>{e.programTerminated=!0,a.results.map(e=>t.values.pop()).forEach(e.values.push)},break:()=>{throw new Error("invalid break")}};u(i,a.body,a.results,l.tail,c)}),function(e){e[e.tail=0]="tail",e[e.head=1]="head"}(l||(l={}));const u=(e,n,r,o,s)=>{const u={...e,values:new i.Stack,programCounter:0};let c=!1;const p={break:e=>{u.programCounter=(()=>{switch(o){case l.tail:return n.length;case l.head:return 0}})(),e>0&&s.break(e-1)},return:e=>{s.return(e),c=!0}};a.createWASMVM(t.controlInstructionSet(p))(n,u),c||r.map(e=>u.values.pop()).forEach(e.values.push)};t.controlInstructionSet=(e=>n=>{switch(n.opType){case"nop":return()=>{};case"unreachable":throw new Error(`not implemented ${n.opType}`);case"block":return t=>{u(t,n.body,n.results,l.tail,e)};case"loop":return t=>{u(t,n.body,n.results,l.head,e)};case"if":return t=>{o.Int32.isZero(t.values.pop())?u(t,n.else,n.results,l.tail,e):u(t,n.then,n.results,l.tail,e)};case"br":return()=>{e.break(n.parameter)};case"br_if":return t=>{const{values:r}=t;o.Int32.isZero(r.pop())||e.break(n.parameter)};case"br_table":return t=>{const r=n.parameters,{values:o}=t,s=o.pop().toNumber(),a=s<r.length&&s>=0?r[s]:r[r.length-1];e.break(a)};case"return":return t=>e.return(t);case"call":return e=>{const r=n.parameter;t.callFunc(e,r)};case"call_indirect":return e=>{const n=e.values.pop(),r=e.table[n.toNumber()];t.callFunc(e,r)};case"select":return e=>{const{values:t}=e,n=t.pop();let r;if(n instanceof o.Int32)r=o.Int32.isZero(n);else{if(!(n instanceof o.Int64))throw new Error(`unsupported type: ${typeof n}`);r=o.Int64.isZero(n)}const s=t.pop(),a=t.pop();t.push(r?s:a)}}return null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(13);t.i32InstructionSet=(e=>{switch(e.opType){case"i32.const":return({values:t})=>t.push(r.Int32.obj(e.parameter));case"i32.add":return o.binop(r.Int32.add);case"i32.sub":return o.binop(r.Int32.sub);case"i32.mul":return o.binop(r.Int32.mul);case"i32.and":return o.binop(r.Int32.and);case"i32.or":return o.binop(r.Int32.or);case"i32.xor":return o.binop(r.Int32.xor);case"i32.eq":return o.boolBinop(r.Int32.equal);case"i32.ne":return o.boolBinop(r.Int32.notEqual);case"i32.rem_s":return o.binop(r.Int32.rem_s);case"i32.rem_u":return o.binop(r.Int32.rem_u);case"i32.div_s":return o.binop(r.Int32.div_s);case"i32.div_u":return o.binop(r.Int32.div_u);case"i32.shl":return o.binop(r.Int32.shiftLeft);case"i32.shr_u":return o.binop(r.Int32.shiftRight_u);case"i32.shr_s":return o.binop(r.Int32.shiftRight_s);case"i32.rotl":case"i32.rotr":throw new Error(`not implemented ${e.opType}`);case"i32.lt_s":return o.boolBinop(r.Int32.lessThan_s);case"i32.lt_u":return o.boolBinop(r.Int32.lessThan_u);case"i32.le_s":return o.boolBinop(r.Int32.lessThanOrEqual_s);case"i32.le_u":return o.boolBinop(r.Int32.lessThanOrEqual_u);case"i32.gt_s":return o.boolBinop(r.Int32.greaterThan_s);case"i32.gt_u":return o.boolBinop(r.Int32.greaterThan_u);case"i32.ge_s":return o.boolBinop(r.Int32.greaterThanOrEqual_s);case"i32.ge_u":return o.boolBinop(r.Int32.greaterThanOrEqual_u);case"i32.clz":return o.monop(r.Int32.clz);case"i32.ctz":return o.monop(r.Int32.ctz);case"i32.popcnt":return o.monop(r.Int32.popcnt);case"i32.eqz":return o.boolMonop(r.Int32.isZero);case"i32.wrap/i64":case"i32.trunc_f32_s":case"i32.trunc_f64_s":case"i32.trunc_f32_u":case"i32.trunc_f64_u":case"i32.reinterpret/f32":throw new Error(`not implemented ${e.opType}`)}return null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(13);t.i64InstructionSet=(e=>{switch(e.opType){case"i64.const":return({values:t})=>t.push(r.Int64.obj(e.parameter));case"i64.add":return o.binop(r.Int64.add);case"i64.sub":return o.binop(r.Int64.sub);case"i64.mul":return o.binop(r.Int64.mul);case"i64.and":return o.binop(r.Int64.and);case"i64.or":return o.binop(r.Int64.or);case"i64.xor":return o.binop(r.Int64.xor);case"i64.eq":return o.boolBinop(r.Int64.equal);case"i64.ne":return o.boolBinop(r.Int64.notEqual);case"i64.rem_s":return o.binop(r.Int64.rem_s);case"i64.rem_u":return o.binop(r.Int64.rem_u);case"i64.div_s":return o.binop(r.Int64.div_s);case"i64.div_u":return o.binop(r.Int64.div_u);case"i64.shl":return o.binop(r.Int64.shiftLeft);case"i64.shr_u":return o.binop(r.Int64.shiftRight_u);case"i64.shr_s":return o.binop(r.Int64.shiftRight_s);case"i64.rotl":case"i64.rotr":throw new Error(`not implemented ${e.opType}`);case"i64.lt_s":return o.boolBinop(r.Int64.lessThan_s);case"i64.lt_u":return o.boolBinop(r.Int64.lessThan_u);case"i64.le_s":return o.boolBinop(r.Int64.lessThanOrEqual_s);case"i64.le_u":return o.boolBinop(r.Int64.lessThanOrEqual_u);case"i64.gt_s":return o.boolBinop(r.Int64.greaterThan_s);case"i64.gt_u":return o.boolBinop(r.Int64.greaterThan_u);case"i64.ge_s":return o.boolBinop(r.Int64.greaterThanOrEqual_s);case"i64.ge_u":return o.boolBinop(r.Int64.greaterThanOrEqual_u);case"i64.clz":return o.monop(r.Int64.clz);case"i64.ctz":return o.monop(r.Int64.ctz);case"i64.popcnt":return o.monop(r.Int64.popcnt);case"i64.eqz":return o.boolMonop(r.Int64.isZero);case"i64.extend_i32_s":case"i64.extend_i32_u":case"i64.trunc_f32_s":case"i64.trunc_f64_s":case"i64.trunc_f32_u":case"i64.trunc_f64_u":case"i64.reinterpret/f64":throw new Error(`not implemented ${e.opType}`)}return null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(13);t.f32InstructionSet=(e=>{switch(e.opType){case"f32.const":return({values:t})=>t.push(r.Float32.obj(e.parameter));case"f32.add":return o.binop(r.Float32.add);case"f32.sub":return o.binop(r.Float32.sub);case"f32.mul":return o.binop(r.Float32.mul);case"f32.div":return o.binop(r.Float32.div);case"f32.eq":return o.boolBinop(r.Float32.equal);case"f32.ne":return o.boolBinop(r.Float32.notEqual);case"f32.lt":return o.boolBinop(r.Float32.lessThan);case"f32.le":return o.boolBinop(r.Float32.lessThanOrEqual);case"f32.gt":return o.boolBinop(r.Float32.greaterThan);case"f32.ge":return o.boolBinop(r.Float32.greaterThanOrEqual);case"f32.abs":return o.monop(r.Float32.abs);case"f32.neg":return o.monop(r.Float32.neg);case"f32.copysign":throw new Error(`not implemented ${e.opType}`);case"f32.ceil":return o.monop(r.Float32.ceil);case"f32.floor":return o.monop(r.Float32.floor);case"f32.trunc":return o.monop(r.Float32.trunc);case"f32.nearest":return o.monop(r.Float32.nearest);case"f32.sqrt":return o.monop(r.Float32.sqrt);case"f32.min":return o.binop(r.Float32.min);case"f32.max":return o.binop(r.Float32.max);case"f32.demote/f64":case"f32.convert_i32_s":case"f32.convert_i64_s":case"f32.convert_i32_u":case"f32.convert_i64_u":case"f32.reinterpret/i32":throw new Error(`not implemented ${e.opType}`)}return null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(53);t.compile=(e=>{e=o.replaceIdentifiers(e);const t={};return e.elems.forEach(e=>{const n=r.Int32.obj(e.offset).toNumber();e.funcIds.forEach((e,r)=>{t[n+r]=e})}),{functions:e.functions,table:t}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(54),o=e=>(e=>"string"==typeof e)(e)&&e.startsWith("$"),s=(e,t,n)=>{if((e=>"if"===e.opType)(e))return i(e,t,n);if("block"===e.opType||"loop"===e.opType)return a(e,t,n);const r=e=>((e,t)=>{for(let n=e.length-1;n>=0;n--)if(t(e[n]))return e.length-n-1;return-1})(n,t=>t===e);if("br_table"===e.opType)return{...e,parameters:e.parameters.map(e=>o(e)?r(e):e)};if("parameter"in e){const n=e.parameter;if(o(n))switch(e.opType){case"call":return{...e,parameter:t.funcs[n]};case"br":case"br_if":return{...e,parameter:r(n)};case"local.get":case"local.set":case"local.tee":case"get_local":case"set_local":case"tee_local":case"global.get":case"global.set":case"get_global":case"set_global":return{...e,parameter:t.locals[n]}}}return e},a=(e,t,n)=>{const r=[...n,e.identifier],o=e.body.map(e=>s(e,t,r));return{...e,body:o}},i=(e,t,n)=>{const r=[...n,e.identifier];return{...e,then:e.then.map(e=>s(e,t,r)),else:e.else.map(e=>s(e,t,r))}},l=e=>{return{...r.fromPairs(e.parameters.map((e,t)=>[e.identifier,t]).filter(e=>e[0])),...r.fromPairs(e.locals.map((t,n)=>[t.identifier,e.parameters.length+n]).filter(e=>e[0]))}};t.replaceIdentifiers=(e=>{const t=r.fromPairs(e.functions.map((e,t)=>[e.identifier,t]).filter(e=>e[0]));return{...e,elems:e.elems.map(e=>((e,t)=>{const n=e.funcIds.map(e=>o(e)?t[e]:e);return{...e,funcIds:n}})(e,t)),functions:e.functions.map(e=>((e,t)=>{const n={locals:l(e),funcs:t},r=e.body.map(e=>s(e,n,[]));return{...e,body:r}})(e,t))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromPairs=(e=>{const t={};for(const[n,r]of e)t[n]=r;return t})},function(e,t,n){e.exports=function(){"use strict";var e={keyColor:"dimgray",numberColor:"lightskyblue",stringColor:"lightcoral",trueColor:"lightseagreen",falseColor:"#f66578",nullColor:"cornflowerblue"};return function(t,n){if(void 0===n&&(n={}),t){"string"!=typeof t&&(t=JSON.stringify(t,null,2));var r=Object.assign({},e,n);return(t=t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+]?\d+)?)/g,function(e){var t=r.numberColor;return'<span style="color: '+(t=/^"/.test(e)?/:$/.test(e)?r.keyColor:r.stringColor:/true/.test(e)?r.trueColor:/false/.test(e)?r.falseColor:/null/.test(e)?r.nullColor:t)+'">'+e+"</span>"})}}}()},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=e=>(t,n)=>{e.lastIndex=0;const r=e.exec(t.slice(n));return r?[!0,r[0],n+r[0].length]:[!1,null,n]},s=e=>o(new RegExp(e)),a=o(/-?[0-9]+\.?[0-9]*/),i=r.map(r.seq(o(/[a-zA-Z]+/),s("\\("),r.opt(((e,t)=>r.map(r.seq(r.opt(r.many(r.map(r.seq(e,s(t)),e=>e[0]))),e),e=>[...e[0]||[],e[1]]))(a,",")),s("\\)")),e=>({type:"func-call",name:e[0],arguments:e[2]}));t.parseConsoleInput=r.or(i)}]);